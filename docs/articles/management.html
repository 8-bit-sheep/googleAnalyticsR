<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Management API • googleAnalyticsR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Management API">
<meta property="og:description" content="">
<meta property="og:image" content="https://code.markedmondson.me/googleAnalyticsR/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-47480439-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47480439-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">googleAnalyticsR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/setup.html">
    <span class="fa fa-wrench"></span>
     
    Setup
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-table"></span>
     
    Reporting APIs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v4.html">
        <span class="fa fa-cogs"></span>
         
        v4 API
      </a>
    </li>
    <li>
      <a href="../articles/v3.html">
        <span class="fa fa-cog"></span>
         
        v3 API
      </a>
    </li>
    <li>
      <a href="../articles/big-query.html">
        <span class="fa fa-search"></span>
         
        BigQuery
      </a>
    </li>
    <li>
      <a href="../articles/ganalytics.html">
        <span class="fa fa-bullseye"></span>
         
        ganalytics
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/management.html">
    <span class="fa fa-briefcase"></span>
     
    Management API
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file"></span>
     
    Publishing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/shiny.html">
        <span class="fa fa-cloud-upload"></span>
         
        Shiny
      </a>
    </li>
    <li>
      <a href="../articles/rmarkdown.html">
        <span class="fa fa-pencil-square"></span>
         
        RMarkdown
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/models.html">
    <span class="fa fa-calculator"></span>
     
    Models
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question-circle"></span>
     
    Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">
        <span class="fa fa-book-reader"></span>
         
        Function Reference
      </a>
    </li>
    <li>
      <a href="../news/index.html">
        <span class="fa fa-newspaper"></span>
         
        News
      </a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Management API</h1>
            
      
      
      <div class="hidden name"><code>management.Rmd</code></div>

    </div>

    
    
<p>The Management API v3 covers all API calls that are not data reporting related and are for getting meta information about your Google Analytics account or to change account settings.</p>
<div id="account-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#account-structure" class="anchor"></a>Account structure</h2>
<p>Shows the details for your account structure (<code>Accounts &gt; Web-properties &gt; Views (profiles)</code>) including creation time, user permissions etc.</p>
<p>The most day-to-day useful function is <code><a href="../reference/ga_account_list.html">ga_account_list()</a></code> which summarises all account web properties and views available to your user.</p>
<ul>
<li>
<code><a href="../reference/ga_account_list.html">ga_account_list()</a></code> - Get account summary including the ViewId</li>
<li>
<code><a href="../reference/ga_accounts.html">ga_accounts()</a></code> - Get account metadata for your user</li>
<li>
<code><a href="../reference/ga_webproperty.html">ga_webproperty()</a></code> - Get web property</li>
<li>
<code><a href="../reference/ga_webproperty_list.html">ga_webproperty_list()</a></code> - List web properties for a particular accountId</li>
<li>
<code><a href="../reference/ga_view.html">ga_view()</a></code> - Get single View (Profile)</li>
<li>
<code><a href="../reference/ga_view_list.html">ga_view_list()</a></code> - List Views (Profile) for a particular accountId/webPropertyId</li>
</ul>
<p>You can then also get the meta-data for that particular entity via <code><a href="../reference/ga_webproperty.html">ga_webproperty()</a></code> or <code><a href="../reference/ga_view.html">ga_view()</a></code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ga_account_list is most commonly used</span>
<span class="co"># (restricted to top 10 with the head() function)</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="../reference/ga_account_list.html">ga_account_list</a></span>(), <span class="dt">n =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>##    accountId        accountName internalWebPropertyId    level
## 1   62477307 Aller Media Nordic              94746559  PREMIUM
## 2   62477307 Aller Media Nordic              94746559  PREMIUM
## 3   62477307 Aller Media Nordic              94746559  PREMIUM
## 4   62477307 Aller Media Nordic              94746559  PREMIUM
## 5   62477307 Aller Media Nordic              94746559  PREMIUM
## 6   62477307 Aller Media Nordic              94746559  PREMIUM
## 7  120229978               APPs             177894020 STANDARD
## 8  120229978               APPs             177894020 STANDARD
## 9  120229978               APPs             177890976 STANDARD
## 10 120229978               APPs             177890976 STANDARD
##          websiteUrl  webPropertyId              webPropertyName type
## 1  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 2  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 3  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 4  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 5  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 6  http://nyhavn.dk    UA-219709-9 DK: Nyhavn rejser - Nyt site  WEB
## 7   http://iform.dk UA-120229978-2           App not configured  WEB
## 8   http://iform.dk UA-120229978-2           App not configured  WEB
## 9   http://iform.dk UA-120229978-3      BCM type not configured  WEB
## 10  http://iform.dk UA-120229978-3      BCM type not configured  WEB
##       viewId                       viewName
## 1  186748193     erhverv.nyhavn.dk - Master
## 2  186653986 erhverv.nyhavn.dk - Unfiltered
## 3  131664847    Nyhavn Blog - Filtered view
## 4  103820874           Nyhavn Filtered view
## 5  107489314                       testview
## 6   98747569                     Unfiltered
## 7  176488363         App_not_configured_ALL
## 8  176884999         App_not_configured_RAW
## 9  176495554    BCM_type_not_configured_ALL
## 10 176882051    BCM_type_not_configured_RAW</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this only lists account meta-data</span>
<span class="kw"><a href="../reference/ga_accounts.html">ga_accounts</a></span>()</code></pre></div>
<pre><code>##           id                                                name
## 1     130829                                          IIH Nordic
## 2     216346                                     www.viivilla.no
## 3     637354                                   www.posterland.dk
## 4     695460                                      Benjamin Media
## 5    1585437                                              Idenyt
## 6    1858096                                     www.viivilla.se
## 7    2758029                                        Ekspres Bank
## 8    5373930                                              GDS DK
## 9    5373967                                              GDS SE
## 10   5373991                                              ILL NL
## 11   5374347                                              BOB DK
## 12   6173460                                              ATR DK
## 13   6187057                                              KOM DK
## 14   6187187                                              KOM SE
## 15   6187221                                              KOM NO
## 16   6187251                                              KOM SF
## 17   6187271                                              IFO DK
## 18   6187298                                              IFO SE
## 19   6187322                                              IFO NO
## 20   6187343                                              IFO SF
## 21   6187369                                              GDS NO
## 22   6187387                                              GDS SF
## 23   6187803                                              ILL DK
## 24   6187819                                              ILL SE
## 25   6187843                                              ILL NO
## 26   6187870                                              ILL SF
## 27   6187906                                              DIF DK
## 28   6187937                                              DIF SE
## 29   6188037                                              DIF NO
## 30   6188055                                              DIF SF
## 31   6188180                                              HIS DK
## 32   6188201                                              HIS SE
## 33   6188219                                              HIS NO
## 34   6188238                                              HIS SF
## 35   6627687                                              NGM DK
## 36   6627762                                              NGM SE
## 37   6627796                                              NGM NO
## 38   6627837                                              NGM SF
## 39   6628087                                              ATR NO
## 40   6628131                                              ATR SE
## 41   7406541                                                 KSW
## 42  12022232                                              HIS NL
## 43  19662071                             Vestas Wind Systems A/S
## 44  23095041                      http://bonnierpublications.com
## 45  24521941                                       danskespil.dk
## 46  25569294                                  iformkostdagbok.se
## 47  27331166                                  iformkostdagbok.no
## 48  33545516                           Merck Global TEST Account
## 49  35085180                                       lahjalehti.fi
## 50  35454547                                sinunlahjalehtesi.fi
## 51  35846759                                     Ekspres Bank ny
## 52  36044303                     Merck Global Rollup GHH Account
## 53  39239835                                   Merck Initiatives
## 54  40189966                                   Merck GHH APAC-CN
## 55  40191959          Merck Global - Countries - Corporate - GHH
## 56  40205238       Merck GHH Emerging Markets - 0 - Asia Pacific
## 57  40205920                                        Merck GHH US
## 58  40207526                                     Merck GHH Japan
## 59  40210201                             Merck GHH Europe Canada
## 60  40258367              Merck GHH Emerging Markets - 1 - EEMEA
## 61  40269182                         Merck GHH Europe Canada - 2
## 62  40276789      Merck GHH Emerging Markets - 2 - Latin America
## 63  40287219                         Merck GHH Europe Canada - 1
## 64  42015978                     Merck Global Rollup MCC Account
## 65  47480439                                       MarkEdmondson
## 66  49948161                            Life Extension Europe UK
## 67  49948265                           Life Extension Europe COM
## 68  49950147                            Life Extension Europe FR
## 69  49951441                            Life Extension Europe DE
## 70  53486370                            Life Extension Europe IT
## 71  53488129                            Life Extension Europe ES
## 72  54516992                                        Demo Account
## 73  54836995                      Danfoss - EMA - _Global (.com)
## 74  59745908                                            Rockwool
## 75  62477307                                  Aller Media Nordic
## 76  68612674                                                wype
## 77  73439771            Merck/MSD - GHH - US - integrated master
## 78  74640842 Merck/MSD - GHH - international - integrated master
## 79  75903262                                             maaltid
## 80  77294772                                 Ekspres Bank - 2016
## 81  77307136                                 Ekspres Bank - 2016
## 82  78158829                                                 PHI
## 83  79273183                                       partnerskaber
## 84  80263539                                            MoreShop
## 85  85597722                                   Danfoss eCommerce
## 86  87922917                                  Bonnierexpeditions
## 87  91022814                            test new brandsite (ifo)
## 88  91647284        Merck/MSD - GHH - mobile - integrated master
## 89  96445678                                Bonnier Publications
## 90  98838423              GHH Merck Connect - Data Layer Markets
## 91 102358263                      E-invasion Webshop Prefetching
## 92 104762453                               www.ao.dk prefetching
## 93 106653537                                         IIHTestSite
## 94 109979189        Merck GHH US integrated master -  raw backup
## 95 115815822                                        Falck - OPEX
## 96 120229978                                                APPs
## 97 121203813                                                 SHI
## 98 123282826                            Bonnier and Benjamin IIH
##                created             updated
## 1  2005-11-15 17:15:33 2016-05-12 16:12:22
## 2  2006-01-11 21:11:25 2015-08-10 19:30:34
## 3  2006-08-29 10:24:28 2015-08-11 21:41:14
## 4  2006-09-14 11:40:46 2016-09-27 12:49:50
## 5  2007-03-29 12:17:02 2015-10-06 08:33:02
## 6  2007-05-15 11:32:59 2016-01-26 16:12:43
## 7  2007-10-08 11:56:17 2015-08-10 21:35:44
## 8  2008-08-22 10:47:53 2015-08-10 22:47:48
## 9  2008-08-22 10:51:37 2015-08-11 21:49:56
## 10 2008-08-22 10:53:43 2015-08-10 23:03:13
## 11 2008-08-22 11:38:01 2015-08-11 23:25:56
## 12 2008-11-03 12:04:52 2015-08-12 00:12:57
## 13 2008-11-04 12:25:34 2016-02-19 13:45:41
## 14 2008-11-04 12:39:03 2015-08-11 23:09:03
## 15 2008-11-04 12:41:25 2015-08-05 19:34:35
## 16 2008-11-04 12:44:07 2015-08-10 19:05:58
## 17 2008-11-04 12:46:36 2016-10-27 08:41:41
## 18 2008-11-04 12:49:05 2017-01-17 14:03:04
## 19 2008-11-04 12:52:19 2017-01-17 14:02:45
## 20 2008-11-04 12:54:32 2015-08-11 21:09:06
## 21 2008-11-04 12:56:38 2015-08-10 21:17:11
## 22 2008-11-04 12:58:21 2015-08-10 18:33:07
## 23 2008-11-04 13:36:47 2015-08-05 19:01:58
## 24 2008-11-04 13:38:18 2015-08-05 20:16:02
## 25 2008-11-04 13:39:57 2015-08-10 23:28:22
## 26 2008-11-04 13:42:19 2015-08-11 22:54:34
## 27 2008-11-04 13:45:47 2015-08-05 17:41:07
## 28 2008-11-04 13:48:47 2015-08-10 20:22:35
## 29 2008-11-04 13:57:19 2015-08-10 18:15:34
## 30 2008-11-04 13:58:40 2015-08-11 21:38:29
## 31 2008-11-04 14:09:05 2015-08-10 17:55:59
## 32 2008-11-04 14:10:15 2015-08-05 17:23:21
## 33 2008-11-04 14:11:31 2016-09-21 12:33:56
## 34 2008-11-04 14:12:39 2015-08-10 21:45:25
## 35 2008-12-10 10:47:33 2015-08-11 22:49:46
## 36 2008-12-10 10:53:44 2015-08-10 18:38:15
## 37 2008-12-10 10:56:33 2015-08-10 22:10:12
## 38 2008-12-10 10:59:59 2015-08-10 23:40:00
## 39 2008-12-10 11:23:15 2015-08-10 19:06:41
## 40 2008-12-10 11:26:18 2015-08-10 19:46:07
## 41 2009-02-10 07:31:01 2018-02-06 12:15:44
## 42 2009-12-11 11:57:25 2015-08-12 00:12:25
## 43 2010-11-12 09:37:32 2018-12-19 10:05:58
## 44 2011-05-03 06:45:22 2015-08-10 23:46:54
## 45 2011-07-13 10:01:36 2019-02-04 14:44:10
## 46 2011-09-07 06:41:22 2016-10-04 11:06:28
## 47 2011-11-28 08:05:57 2016-10-04 11:06:09
## 48 2012-07-20 14:34:04 2015-08-05 18:05:18
## 49 2012-09-26 07:24:26 2015-08-10 21:52:32
## 50 2012-10-10 11:22:57 2015-08-11 22:47:57
## 51 2012-10-25 08:16:53 2018-03-19 11:41:01
## 52 2012-11-01 20:13:24 2016-10-26 16:15:07
## 53 2013-03-13 15:18:48 2018-12-04 09:04:16
## 54 2013-04-17 04:46:16 2015-08-10 22:02:13
## 55 2013-04-17 04:50:22 2015-08-18 12:15:15
## 56 2013-04-17 04:47:45 2015-09-16 07:19:52
## 57 2013-04-17 04:52:02 2015-12-03 16:11:11
## 58 2013-04-17 04:51:26 2015-08-11 00:09:19
## 59 2013-04-17 04:49:13 2016-04-07 12:11:28
## 60 2013-04-19 14:56:07 2018-04-30 05:38:27
## 61 2013-04-19 14:59:22 2018-04-30 05:39:09
## 62 2013-04-19 14:57:02 2015-08-10 19:23:22
## 63 2013-04-19 14:58:38 2018-04-30 05:38:47
## 64 2013-06-26 13:21:52 2015-08-10 20:08:00
## 65 2014-01-25 12:17:05 2015-08-10 18:47:15
## 66 2014-04-11 15:16:46 2015-08-10 23:44:50
## 67 2014-04-11 15:11:19 2018-06-25 11:30:50
## 68 2014-04-11 15:18:08 2015-08-12 00:04:03
## 69 2014-04-11 15:14:10 2015-08-10 19:37:51
## 70 2014-08-04 08:59:44 2015-08-10 23:00:04
## 71 2014-08-04 08:58:42 2015-08-10 22:40:16
## 72 2014-09-06 17:53:33 2018-02-11 23:40:54
## 73 2014-09-16 08:11:53 2017-07-12 11:51:38
## 74 2015-02-13 13:39:27 2015-08-05 20:18:36
## 75 2015-04-30 10:03:17 2018-05-24 11:07:31
## 76 2015-10-09 10:57:19 2015-10-09 10:57:19
## 77 2016-02-08 16:19:20 2019-01-29 12:05:44
## 78 2016-03-03 10:58:54 2019-01-29 08:54:57
## 79 2016-04-04 12:41:03 2016-09-07 11:04:03
## 80 2016-05-04 17:40:03 2016-05-04 18:00:08
## 81 2016-05-04 17:40:31 2016-05-04 17:40:31
## 82 2016-05-23 10:25:08 2016-05-26 06:26:25
## 83 2016-06-14 08:46:55 2016-06-14 08:46:55
## 84 2016-07-04 14:14:09 2016-08-16 11:29:50
## 85 2016-10-12 12:30:16 2018-05-04 10:29:30
## 86 2016-11-23 07:53:40 2016-11-23 07:53:40
## 87 2017-01-27 09:11:06 2018-04-20 13:17:19
## 88 2017-02-09 14:16:18 2017-02-09 14:16:18
## 89 2017-03-30 07:10:57 2017-03-30 07:10:57
## 90 2017-05-09 20:56:39 2017-05-12 17:23:24
## 91 2017-07-11 07:01:09 2017-07-11 07:01:09
## 92 2017-08-17 10:06:35 2017-08-17 10:06:35
## 93 2017-09-18 13:06:56 2017-09-18 13:06:56
## 94 2017-11-21 09:46:56 2017-12-04 14:26:17
## 95 2018-03-15 09:09:28 2018-06-07 10:16:19
## 96 2018-06-01 07:36:04 2018-06-01 07:36:04
## 97 2018-06-22 12:45:33 2018-06-22 12:45:33
## 98 2018-08-02 11:32:23 2018-08-14 09:30:44
##                             permissions.effective
## 1  COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 2               COLLABORATE,EDIT,READ_AND_ANALYZE
## 3  COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 4               COLLABORATE,EDIT,READ_AND_ANALYZE
## 5               COLLABORATE,EDIT,READ_AND_ANALYZE
## 6               COLLABORATE,EDIT,READ_AND_ANALYZE
## 7  COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 8               COLLABORATE,EDIT,READ_AND_ANALYZE
## 9               COLLABORATE,EDIT,READ_AND_ANALYZE
## 10              COLLABORATE,EDIT,READ_AND_ANALYZE
## 11              COLLABORATE,EDIT,READ_AND_ANALYZE
## 12              COLLABORATE,EDIT,READ_AND_ANALYZE
## 13              COLLABORATE,EDIT,READ_AND_ANALYZE
## 14              COLLABORATE,EDIT,READ_AND_ANALYZE
## 15              COLLABORATE,EDIT,READ_AND_ANALYZE
## 16              COLLABORATE,EDIT,READ_AND_ANALYZE
## 17              COLLABORATE,EDIT,READ_AND_ANALYZE
## 18              COLLABORATE,EDIT,READ_AND_ANALYZE
## 19              COLLABORATE,EDIT,READ_AND_ANALYZE
## 20              COLLABORATE,EDIT,READ_AND_ANALYZE
## 21              COLLABORATE,EDIT,READ_AND_ANALYZE
## 22              COLLABORATE,EDIT,READ_AND_ANALYZE
## 23              COLLABORATE,EDIT,READ_AND_ANALYZE
## 24              COLLABORATE,EDIT,READ_AND_ANALYZE
## 25              COLLABORATE,EDIT,READ_AND_ANALYZE
## 26              COLLABORATE,EDIT,READ_AND_ANALYZE
## 27              COLLABORATE,EDIT,READ_AND_ANALYZE
## 28              COLLABORATE,EDIT,READ_AND_ANALYZE
## 29              COLLABORATE,EDIT,READ_AND_ANALYZE
## 30              COLLABORATE,EDIT,READ_AND_ANALYZE
## 31              COLLABORATE,EDIT,READ_AND_ANALYZE
## 32              COLLABORATE,EDIT,READ_AND_ANALYZE
## 33              COLLABORATE,EDIT,READ_AND_ANALYZE
## 34              COLLABORATE,EDIT,READ_AND_ANALYZE
## 35              COLLABORATE,EDIT,READ_AND_ANALYZE
## 36              COLLABORATE,EDIT,READ_AND_ANALYZE
## 37              COLLABORATE,EDIT,READ_AND_ANALYZE
## 38              COLLABORATE,EDIT,READ_AND_ANALYZE
## 39              COLLABORATE,EDIT,READ_AND_ANALYZE
## 40              COLLABORATE,EDIT,READ_AND_ANALYZE
## 41              COLLABORATE,EDIT,READ_AND_ANALYZE
## 42              COLLABORATE,EDIT,READ_AND_ANALYZE
## 43 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 44              COLLABORATE,EDIT,READ_AND_ANALYZE
## 45                                               
## 46              COLLABORATE,EDIT,READ_AND_ANALYZE
## 47              COLLABORATE,EDIT,READ_AND_ANALYZE
## 48 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 49              COLLABORATE,EDIT,READ_AND_ANALYZE
## 50              COLLABORATE,EDIT,READ_AND_ANALYZE
## 51 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 52 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 53 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 54 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 55 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 56 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 57 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 58 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 59 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 60                  MANAGE_USERS,READ_AND_ANALYZE
## 61 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 62 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 63 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 64 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 65              COLLABORATE,EDIT,READ_AND_ANALYZE
## 66                   COLLABORATE,READ_AND_ANALYZE
## 67                   COLLABORATE,READ_AND_ANALYZE
## 68                   COLLABORATE,READ_AND_ANALYZE
## 69                   COLLABORATE,READ_AND_ANALYZE
## 70                   COLLABORATE,READ_AND_ANALYZE
## 71                   COLLABORATE,READ_AND_ANALYZE
## 72                               READ_AND_ANALYZE
## 73                               READ_AND_ANALYZE
## 74 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 75                                               
## 76              COLLABORATE,EDIT,READ_AND_ANALYZE
## 77 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 78 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 79              COLLABORATE,EDIT,READ_AND_ANALYZE
## 80 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 81 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 82              COLLABORATE,EDIT,READ_AND_ANALYZE
## 83              COLLABORATE,EDIT,READ_AND_ANALYZE
## 84              COLLABORATE,EDIT,READ_AND_ANALYZE
## 85                               READ_AND_ANALYZE
## 86              COLLABORATE,EDIT,READ_AND_ANALYZE
## 87              COLLABORATE,EDIT,READ_AND_ANALYZE
## 88 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 89              COLLABORATE,EDIT,READ_AND_ANALYZE
## 90 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 91 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 92 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 93                  MANAGE_USERS,READ_AND_ANALYZE
## 94 COLLABORATE,EDIT,MANAGE_USERS,READ_AND_ANALYZE
## 95                                               
## 96              COLLABORATE,EDIT,READ_AND_ANALYZE
## 97              COLLABORATE,EDIT,READ_AND_ANALYZE
## 98              COLLABORATE,EDIT,READ_AND_ANALYZE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this gives meta-data for all web-properties for this accountId</span>
<span class="kw"><a href="../reference/ga_webproperty_list.html">ga_webproperty_list</a></span>(<span class="dv">47480439</span>)</code></pre></div>
<pre><code>##              id accountId internalWebPropertyId                name
## 1 UA-47480439-1  47480439              78742336    markedmondson.me
## 2 UA-47480439-2  47480439              78737968 MarkEdmondson oldGA
##                websiteUrl    level profileCount    industryVertical
## 1 http://markedmondson.me STANDARD            1 HOBBIES_AND_LEISURE
## 2 http://markedmondson.me STANDARD            1 HOBBIES_AND_LEISURE
##   dataRetentionTtl dataRetentionResetOnNewActivity             created
## 1        MONTHS_26                            TRUE 2014-01-25 12:17:05
## 2       INDEFINITE                            TRUE 2014-01-25 12:19:20
##               updated defaultProfileId             permissions.effective
## 1 2014-01-25 12:17:06             &lt;NA&gt; COLLABORATE,EDIT,READ_AND_ANALYZE
## 2 2018-04-12 11:37:38         81416156 COLLABORATE,EDIT,READ_AND_ANALYZE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this is meta-data for one particular web-property</span>
<span class="kw"><a href="../reference/ga_webproperty.html">ga_webproperty</a></span>(<span class="dt">accountId =</span> <span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-1"</span>)</code></pre></div>
<pre><code>## $id
## [1] "UA-47480439-1"
## 
## $kind
## [1] "analytics#webproperty"
## 
## $selfLink
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439/webproperties/UA-47480439-1"
## 
## $accountId
## [1] "47480439"
## 
## $internalWebPropertyId
## [1] "78742336"
## 
## $name
## [1] "markedmondson.me"
## 
## $websiteUrl
## [1] "http://markedmondson.me"
## 
## $level
## [1] "STANDARD"
## 
## $profileCount
## [1] 1
## 
## $industryVertical
## [1] "HOBBIES_AND_LEISURE"
## 
## $dataRetentionTtl
## [1] "MONTHS_26"
## 
## $dataRetentionResetOnNewActivity
## [1] TRUE
## 
## $permissions
## $permissions$effective
## [1] "COLLABORATE"      "EDIT"             "READ_AND_ANALYZE"
## 
## 
## $created
## [1] "2014-01-25T12:17:05.492Z"
## 
## $updated
## [1] "2014-01-25T12:17:06.625Z"
## 
## $parentLink
## $parentLink$type
## [1] "analytics#account"
## 
## $parentLink$href
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439"
## 
## 
## $childLink
## $childLink$type
## [1] "analytics#profiles"
## 
## $childLink$href
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439/webproperties/UA-47480439-1/profiles"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this is meta-data for the views under this accountId/webPropertyId</span>
<span class="kw"><a href="../reference/ga_view_list.html">ga_view_list</a></span>(<span class="dt">accountId =</span> <span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-1"</span>)</code></pre></div>
<pre><code>##         id accountId webPropertyId internalWebPropertyId              name
## 1 81416941  47480439 UA-47480439-1              78742336 All Web Site Data
##   currency          timezone              websiteUrl type
## 1      USD Europe/Copenhagen http://markedmondson.me  WEB
##               created             updated eCommerceTracking
## 1 2014-01-25 12:17:05 2015-06-14 13:18:53             FALSE
##               permissions.effective
## 1 COLLABORATE,EDIT,READ_AND_ANALYZE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this is meta-data for this particular viewId (profileId)</span>
<span class="kw"><a href="../reference/ga_view.html">ga_view</a></span>(<span class="dt">accountId =</span> <span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-1"</span>, <span class="dt">profileId =</span> <span class="dv">81416941</span>)</code></pre></div>
<pre><code>## $id
## [1] "81416941"
## 
## $kind
## [1] "analytics#profile"
## 
## $selfLink
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439/webproperties/UA-47480439-1/profiles/81416941"
## 
## $accountId
## [1] "47480439"
## 
## $webPropertyId
## [1] "UA-47480439-1"
## 
## $internalWebPropertyId
## [1] "78742336"
## 
## $name
## [1] "All Web Site Data"
## 
## $currency
## [1] "USD"
## 
## $timezone
## [1] "Europe/Copenhagen"
## 
## $websiteUrl
## [1] "http://markedmondson.me"
## 
## $type
## [1] "WEB"
## 
## $permissions
## $permissions$effective
## [1] "COLLABORATE"      "EDIT"             "READ_AND_ANALYZE"
## 
## 
## $created
## [1] "2014-01-25T12:17:05.492Z"
## 
## $updated
## [1] "2015-06-14T13:18:53.638Z"
## 
## $eCommerceTracking
## [1] FALSE
## 
## $parentLink
## $parentLink$type
## [1] "analytics#webproperty"
## 
## $parentLink$href
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439/webproperties/UA-47480439-1"
## 
## 
## $childLink
## $childLink$type
## [1] "analytics#goals"
## 
## $childLink$href
## [1] "https://www.googleapis.com/analytics/v3/management/accounts/47480439/webproperties/UA-47480439-1/profiles/81416941/goals"</code></pre>
</div>
<div id="helper-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#helper-functions" class="anchor"></a>Helper functions</h2>
<p>These are helper utility functions to work with Google Analytics data.</p>
<ul>
<li>
<code><a href="../reference/ga_meta.html">google_analytics_meta()</a></code> - get a data.frame of available dimensions and metrics, or just use <code>meta</code> directly to get the version that comes with the library.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># you can just use `meta` as is to get the available metrics,</span>
<span class="co"># here we just return the first 5 columns and rows for brevity</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(meta[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</code></pre></div>
<pre><code>##                      name      type dataType group     status
## 1             ga:userType DIMENSION   STRING  User     PUBLIC
## 2          ga:visitorType DIMENSION   STRING  User DEPRECATED
## 3         ga:sessionCount DIMENSION   STRING  User     PUBLIC
## 4           ga:visitCount DIMENSION   STRING  User DEPRECATED
## 5 ga:daysSinceLastSession DIMENSION   STRING  User     PUBLIC
## 6     ga:userDefinedValue DIMENSION   STRING  User     PUBLIC</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># or ensure an up to date version by calling the metadata API.</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="../reference/ga_meta.html">google_analytics_meta</a></span>())[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</code></pre></div>
<pre><code>## Warning: 'google_analytics_meta' is deprecated.
## Use 'ga_meta' instead.
## See help("Deprecated") and help("googleAnalyticsR-deprecated").</code></pre>
<pre><code>##                      name      type dataType group     status
## 1             ga:userType DIMENSION   STRING  User     PUBLIC
## 2          ga:visitorType DIMENSION   STRING  User DEPRECATED
## 3         ga:sessionCount DIMENSION   STRING  User     PUBLIC
## 4           ga:visitCount DIMENSION   STRING  User DEPRECATED
## 5 ga:daysSinceLastSession DIMENSION   STRING  User     PUBLIC
## 6     ga:userDefinedValue DIMENSION   STRING  User     PUBLIC</code></pre>
<ul>
<li>
<code><a href="../reference/aggregateGAData.html">aggregateGAData()</a></code> - aggregate data down to the dimensions you specify, treating metrics correctly regarding if they should be averaged or summed. This is used internally when using anti-sampling, and is also useful to respond to dimension selections in Shiny dashboards, where you don’t want to perform a new API call each time you need aggregated data. Download all data first in a more unaggregated form, then use this function.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use `aggregateGAData` so you can on the fly create summary data</span>
ga_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/google_analytics.html">google_analytics</a></span>(<span class="dv">81416156</span>, 
                            <span class="dt">date_range =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"10daysAgo"</span>, <span class="st">"yesterday"</span>),
                            <span class="dt">metrics =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"sessions"</span>,<span class="st">"bounceRate"</span>), <span class="dt">dimensions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"hour"</span>,<span class="st">"date"</span>))</code></pre></div>
<pre><code>## 2019-03-13 15:53:17&gt; Downloaded [240] rows from a total of [240].</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(ga_data)</code></pre></div>
<pre><code>##   hour       date sessions bounceRate
## 1   00 2019-03-03       11   90.90909
## 2   00 2019-03-04        5   80.00000
## 3   00 2019-03-05       20   75.00000
## 4   00 2019-03-06       10   80.00000
## 5   00 2019-03-07       73   79.45205
## 6   00 2019-03-08       20   90.00000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># if we want totals per hour over the dates:</span>
<span class="kw"><a href="../reference/aggregateGAData.html">aggregateGAData</a></span>(ga_data[,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"hour"</span>,<span class="st">"sessions"</span>)], <span class="dt">agg_names =</span> <span class="st">"hour"</span>)</code></pre></div>
<pre><code>## # A tibble: 24 x 2
##    hour  sessions
##    &lt;chr&gt;    &lt;dbl&gt;
##  1 00         173
##  2 01         131
##  3 02          99
##  4 03         110
##  5 04         107
##  6 05          98
##  7 06         102
##  8 07         118
##  9 08         139
## 10 09         163
## # … with 14 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># it knows not to sum metrics that are rates:</span>
<span class="kw"><a href="../reference/aggregateGAData.html">aggregateGAData</a></span>(ga_data[,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"hour"</span>,<span class="st">"bounceRate"</span>)], <span class="dt">agg_names =</span> <span class="st">"hour"</span>)</code></pre></div>
<pre><code>## # A tibble: 24 x 2
##    hour  bounceRate
##    &lt;chr&gt;      &lt;dbl&gt;
##  1 00          78.0
##  2 01          73.7
##  3 02          76.1
##  4 03          86.0
##  5 04          79.5
##  6 05          70.6
##  7 06          73.4
##  8 07          79.7
##  9 08          72.4
## 10 09          89.1
## # … with 14 more rows</code></pre>
<ul>
<li>
<code><a href="../reference/allowed_metric_dim.html">allowed_metric_dim()</a></code> - Create named list of allowed GA metrics/dimensions. This is useful to have nice looking labels for dimension and metric selection pickers, or to create lookup tables.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#</span>
amd &lt;-<span class="st"> </span><span class="kw"><a href="../reference/allowed_metric_dim.html">allowed_metric_dim</a></span>()
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(amd)</code></pre></div>
<pre><code>##                   Users               New Users          % New Sessions 
##              "ga:users"           "ga:newUsers" "ga:percentNewSessions" 
##      1 Day Active Users      7 Day Active Users     14 Day Active Users 
##          "ga:1dayUsers"          "ga:7dayUsers"         "ga:14dayUsers"</code></pre>
</div>
<div id="user-management" class="section level2">
<h2 class="hasAnchor">
<a href="#user-management" class="anchor"></a>User management</h2>
<ul>
<li>ga_users_list() - list user access to your Google Analytics accounts, web properties or views</li>
<li>ga_users_delete() - delete user access via email</li>
<li>ga_users_delete_linkid() - delete user access via the linkId</li>
<li>ga_users_add() - add users to accounts</li>
<li>ga_users_update() - update a user</li>
</ul>
<p>User management follows the recommended workflows outlined in this <a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/user-management">Google reference article</a>.</p>
<p>The <code>ga_users_*</code> functions use the management APIs batching endpoint, to take advantage of the special increased quota limits when dealing with User management that API offers. For example, every 30 API calls that are batched that deal with user management only increments one API call against your management API quota. You can have 300 API calls in one batch (e.g. that costs 10 API calls against the quota), and <code>googleAnalyticsR</code> will split any list of emails into 300 emails per batch for you, so you can send in all emails you have.</p>
<p>By default, each Google Cloud Project gets 50 write requests per project per day, which if using batching means 1500 write/delete/update user operations per day.</p>
<blockquote>
<p>You will need to use your own Google Cloud Platform project if using any write API operations seriously, otherwise you will be at the mercy of the shared googleAnalyticsR’s quota limits. See the section in the Setup page on how to <a href="http://code.markedmondson.me/googleAnalyticsR/articles/setup.html#your-own-google-project">setup using your own Google Project</a></p>
</blockquote>
<p>To see which users are attached, use <code><a href="../reference/ga_users_list.html">ga_users_list()</a></code>. Each user email is referenced under the <code>userRef.email</code> column, whereas the unique IDs used to see which user is linked to where is the <code>linkId</code> which is unique to each user and link to your account, web property or view/profile.</p>
<p>Users can be attached at various levels in the hierarchy so you can call the function at various viewing angles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># default will list all users that match the id you supply</span>
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>)
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>)
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>, <span class="dt">viewId =</span> <span class="dv">81416156</span>)

<span class="co"># only list users who have account level access</span>
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="ot">NULL</span>, <span class="dt">viewId =</span> <span class="ot">NULL</span>)
<span class="co"># only list users who have webProperty and above access</span>
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>, <span class="dt">viewId =</span> <span class="ot">NULL</span>)</code></pre></div>
<p>Users can be attached at account, web-property and view level.</p>
<p>Batching is incorporated for adding users, so you can pass in a vector of emails to add.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/ga_users_add.html">ga_users_add</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"the_email@company.com"</span>, <span class="st">"another_email@company.com"</span>), 
             <span class="dt">permissions =</span> <span class="st">"EDIT"</span>, <span class="dt">accountId =</span> <span class="dv">47480439</span>)</code></pre></div>
<p>To delete a user from all accounts, web-properties and views takes a few API calls to <code><a href="../reference/ga_users_list.html">ga_users_list()</a></code> to find all the possible links, which is done behind the scenes of <code><a href="../reference/ga_users_delete.html">ga_users_delete()</a></code>. You can pass the function multiple emails to delete many at once, which is done via batching:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>)

<span class="kw"><a href="../reference/ga_users_delete.html">ga_users_delete</a></span>(<span class="st">"the_email@company.com"</span>, <span class="dv">47480439</span>)

<span class="co"># delete many emails at once</span>
<span class="kw"><a href="../reference/ga_users_delete.html">ga_users_delete</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"the_email@company.com"</span>, <span class="st">"another_email@company.com"</span>), <span class="dt">accountId =</span> <span class="dv">47480439</span>)</code></pre></div>
<p>For more fine grained control, the below examples shows a workflow to list and delete user access for one user at View level using the linkId.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get the linkId for the user you want to delete</span>
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>, <span class="dt">viewId =</span> <span class="dv">81416156</span>)
<span class="kw"><a href="../reference/ga_users_delete_linkid.html">ga_users_delete_linkid</a></span>(<span class="st">"81416156:114834495587136933146"</span>, <span class="dv">47480439</span>, 
                <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>, <span class="dt">viewId =</span> <span class="dv">81416156</span>)
 
<span class="co"># check its gone</span>
<span class="kw"><a href="../reference/ga_users_list.html">ga_users_list</a></span>(<span class="dv">47480439</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-47480439-2"</span>, <span class="dt">viewId =</span> <span class="dv">81416156</span>)

<span class="co"># can only delete at level user has access, the above deletion woud have failed if via:</span>
<span class="kw"><a href="../reference/ga_users_delete_linkid.html">ga_users_delete_linkid</a></span>(<span class="st">"47480439:114834495587136933146"</span>, <span class="dv">47480439</span>)</code></pre></div>
<p>You can also modify existing users via <code><a href="../reference/ga_users_update.html">ga_users_update()</a></code> - the below modifies on the web property level:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the update to perform</span>
o &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">permissions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">local =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"EDIT"</span>)))

<span class="kw"><a href="../reference/ga_users_update.html">ga_users_update</a></span>(<span class="st">"UA-123456-1:1111222233334444"</span>,
                <span class="dt">update_object =</span> o,
                <span class="dt">accountId =</span> <span class="dv">123456</span>,
                <span class="dt">webPropertyId =</span> <span class="st">"UA-123456-1"</span>)</code></pre></div>
<p>When using linkIds, make sure to use the correct <code>linkId</code> for the level of account, web-property or view you are operating on - the <code>linkId</code> starts with the accountId, UA code of web property, or ViewId number to distinguish between the various types.</p>
</div>
<div id="custom-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-variables" class="anchor"></a>Custom variables</h2>
<p>Custom variable management for a Google Analytics property.</p>
<ul>
<li>
<code><a href="../reference/ga_custom_vars.html">ga_custom_vars()</a></code> - get meta data for a specific custom variable</li>
<li>
<code><a href="../reference/ga_custom_vars_list.html">ga_custom_vars_list()</a></code> - list all custom dimensions or metrics</li>
<li>
<code><a href="../reference/ga_custom_vars_create.html">ga_custom_vars_create()</a></code> - create a new custom variable</li>
<li>
<code><a href="../reference/ga_custom_vars_patch.html">ga_custom_vars_patch()</a></code> - update an existing custom variable</li>
</ul>
<p>Using these you can scale setting up custom dimensions across your Google Analytics web properties. Custom dimension updates are governed by the same rules as when you create them in the web interface, as this <a href="https://support.google.com/analytics/answer/2709828">Google article on custom dimensions and metrics explains</a>.</p>
<p>You can’t delete custom dimensions, you can only de-activate them for reuse later on.</p>
<p>A workflow is shown below that creates, then updates a custom variable to a new name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create custom var</span>
<span class="kw"><a href="../reference/ga_custom_vars_create.html">ga_custom_vars_create</a></span>(<span class="st">"my_custom_dim"</span>,
                      <span class="dt">index =</span> <span class="dv">15</span>,
                      <span class="dt">accountId =</span> <span class="dv">54019251</span>,
                      <span class="dt">webPropertyId =</span> <span class="st">"UA-54019251-4"</span>,
                      <span class="dt">scope =</span> <span class="st">"HIT"</span>,
                      <span class="dt">active =</span> <span class="ot">FALSE</span>)

<span class="co"># view custom dimension in list</span>
<span class="kw"><a href="../reference/ga_custom_vars_list.html">ga_custom_vars_list</a></span>(<span class="dv">54019251</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-54019251-4"</span>, <span class="dt">type =</span> <span class="st">"customDimensions"</span>)

<span class="co"># change a custom dimension</span>
<span class="kw"><a href="../reference/ga_custom_vars_patch.html">ga_custom_vars_patch</a></span>(<span class="st">"ga:dimension7"</span>,
                     <span class="dt">accountId =</span> <span class="dv">54019251</span>,
                     <span class="dt">webPropertyId =</span> <span class="st">"UA-54019251-4"</span>,
                     <span class="dt">name =</span> <span class="st">"my_custom_dim2"</span>,
                     <span class="dt">scope =</span> <span class="st">"SESSION"</span>,
                     <span class="dt">active =</span> <span class="ot">TRUE</span>)

<span class="co"># view custom dimensions again to see change</span>
<span class="kw"><a href="../reference/ga_custom_vars_list.html">ga_custom_vars_list</a></span>(<span class="dv">54019251</span>, <span class="dt">webPropertyId =</span> <span class="st">"UA-54019251-4"</span>, <span class="dt">type =</span> <span class="st">"customDimensions"</span>)</code></pre></div>
</div>
<div id="adwords" class="section level2">
<h2 class="hasAnchor">
<a href="#adwords" class="anchor"></a>AdWords</h2>
<ul>
<li>
<code><a href="../reference/ga_adwords.html">ga_adwords()</a></code> Get AdWords Link meta data</li>
<li>
<code><a href="../reference/ga_adwords_list.html">ga_adwords_list()</a></code> List AdWords</li>
</ul>
</div>
<div id="custom-data-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-data-sources" class="anchor"></a>Custom Data Sources</h2>
<p>See and upload custom data sources to Google Analytics</p>
<ul>
<li>
<code><a href="../reference/ga_custom_datasource.html">ga_custom_datasource()</a></code> - List Custom Data Sources</li>
<li>
<code><a href="../reference/ga_custom_upload.html">ga_custom_upload()</a></code> - Custom Data Source Upload Status</li>
<li>
<code><a href="../reference/ga_custom_upload_file.html">ga_custom_upload_file()</a></code>- Upload a file to GA custom uploads</li>
<li>
<code><a href="../reference/ga_custom_upload_list.html">ga_custom_upload_list()</a></code> - List the files in a GA custom upload</li>
</ul>
</div>
<div id="experiments" class="section level2">
<h2 class="hasAnchor">
<a href="#experiments" class="anchor"></a>Experiments</h2>
<ul>
<li>
<code><a href="../reference/ga_experiment.html">ga_experiment()</a></code> - Experiments Meta data</li>
<li>
<code><a href="../reference/ga_experiment_list.html">ga_experiment_list()</a></code> - List Experiments</li>
</ul>
</div>
<div id="view-filters" class="section level2">
<h2 class="hasAnchor">
<a href="#view-filters" class="anchor"></a>View Filters</h2>
<p>The filter edit functions are contributed by <span class="citation">@zselinger</span> which allow you to update filters for your Google Analytics views at scale.</p>
<ul>
<li>
<code><a href="../reference/ga_filter.html">ga_filter()</a></code> - Get specific filter for account</li>
<li>
<code><a href="../reference/ga_filter_add.html">ga_filter_add()</a></code> - Create a new filter and add it to the view (optional).</li>
<li>
<code><a href="../reference/ga_filter_apply_to_view.html">ga_filter_apply_to_view()</a></code> - Apply an existing filter to view.</li>
<li>
<code><a href="../reference/ga_filter_delete.html">ga_filter_delete()</a></code> - Delete a filter from account or remove from view.</li>
<li>
<code><a href="../reference/ga_filter_list.html">ga_filter_list()</a></code> - List filters for account</li>
<li>
<code><a href="../reference/ga_filter_update.html">ga_filter_update()</a></code> - Updates an existing filter.</li>
<li>
<code><a href="../reference/ga_filter_update_filter_link.html">ga_filter_update_filter_link()</a></code> - Update an existing profile filter link. Patch semantics supported</li>
<li>
<code><a href="../reference/ga_filter_view.html">ga_filter_view()</a></code> - Get specific filter for view (profile)</li>
<li>
<code><a href="../reference/ga_filter_view_list.html">ga_filter_view_list()</a></code> - List filters for view (profile)</li>
</ul>
</div>
<div id="goals" class="section level2">
<h2 class="hasAnchor">
<a href="#goals" class="anchor"></a>Goals</h2>
<ul>
<li>
<code><a href="../reference/ga_goal.html">ga_goal()</a></code> - Get goal</li>
<li>
<code><a href="../reference/ga_goal_list.html">ga_goal_list()</a></code> - List goals</li>
<li>
<code><a href="../reference/ga_goal_add.html">ga_goal_add()</a></code> - Create and add Goals to a web property</li>
<li>
<code><a href="../reference/ga_goal_update.html">ga_goal_update()</a></code> - Modify an existing goal</li>
</ul>
</div>
<div id="remarketing-segments" class="section level2">
<h2 class="hasAnchor">
<a href="#remarketing-segments" class="anchor"></a>Remarketing segments</h2>
<p>Remarketing segments lets you target users in Google Ads from Google Analytics segments.</p>
<ul>
<li>
<code><a href="../reference/ga_remarketing_estimate.html">ga_remarketing_estimate()</a></code> - Estimate number of users added to the segment yesterday</li>
<li>
<code><a href="../reference/ga_remarketing_get.html">ga_remarketing_get()</a></code> - Get a remarketing audience</li>
<li>
<code><a href="../reference/ga_remarketing_list.html">ga_remarketing_list()</a></code> - List remarketing audiences</li>
<li>
<code><a href="../reference/ga_remarketing_build.html">ga_remarketing_build()</a></code> - Create definitions to be used within <code><a href="../reference/ga_remarketing_create.html">ga_remarketing_create()</a></code>
</li>
<li>
<code><a href="../reference/ga_remarketing_create.html">ga_remarketing_create()</a></code> - Create a remarketing audience</li>
</ul>
<p>A demo of how you could use this based on your existing GA segments is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">adword_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ga_adwords_list.html">ga_adwords_list</a></span>(<span class="dv">123456</span>, <span class="st">"UA-123456-1"</span>)

adword_link &lt;-<span class="st"> </span><span class="kw">ga_adword</span>(adword_list<span class="op">$</span>id[[<span class="dv">1</span>]])

segment_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ga_segment_list.html">ga_segment_list</a></span>()<span class="op">$</span>items<span class="op">$</span>definition

my_remarketing1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ga_remarketing_build.html">ga_remarketing_build</a></span>(segment_list[[<span class="dv">1</span>]], 
                      <span class="dt">state_duration =</span> <span class="st">"TEMPORARY"</span>,
                      <span class="dt">membershipDurationDays =</span> <span class="dv">90</span>, 
                      <span class="dt">daysToLookBack =</span> <span class="dv">14</span>)
my_remarketing2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ga_remarketing_build.html">ga_remarketing_build</a></span>(segment_list[[<span class="dv">2</span>]], 
                      <span class="dt">state_duration =</span> <span class="st">"PERMANENT"</span>,
                      <span class="dt">membershipDurationDays =</span> <span class="dv">7</span>, 
                      <span class="dt">daysToLookBack =</span> <span class="dv">31</span>)

<span class="co"># state based only can include exclusions</span>
<span class="kw"><a href="../reference/ga_remarketing_create.html">ga_remarketing_create</a></span>(<span class="dt">adwords_link =</span> adword_link,
                     <span class="dt">include =</span> my_remarketing1, <span class="dt">exclude =</span> my_remarketing2,
                     <span class="dt">audienceType =</span> <span class="st">"STATE_BASED"</span>, <span class="dt">name =</span> <span class="st">"my_remarketing_seg1"</span>)</code></pre></div>
</div>
<div id="unsampled-reports" class="section level2">
<h2 class="hasAnchor">
<a href="#unsampled-reports" class="anchor"></a>Unsampled reports</h2>
<p>Available only for GA360 accounts, you will need to authenticate with the Google drive scope to get download access. The download functions are contributed by <span class="citation">@j450h1</span></p>
<ul>
<li>
<code><a href="../reference/ga_unsampled.html">ga_unsampled()</a></code> - Get Unsampled Report Meta Data</li>
<li>
<code><a href="../reference/ga_unsampled_download.html">ga_unsampled_download()</a></code> - Download Unsampled Report from Google Drive</li>
<li>
<code><a href="../reference/ga_unsampled_list.html">ga_unsampled_list()</a></code> - List Unsampled Reports</li>
</ul>
</div>
<div id="users" class="section level2">
<h2 class="hasAnchor">
<a href="#users" class="anchor"></a>Users</h2>
<ul>
<li>
<code><a href="../reference/ga_clientid_hash.html">ga_clientid_hash()</a></code> - Creates the clientID hash that is used in BigQuery GA360 exports</li>
<li>
<code><a href="../reference/ga_clientid_deletion.html">ga_clientid_deletion()</a></code> - Delete a website visitor from Google Analytics</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#account-structure">Account structure</a></li>
      <li><a href="#helper-functions">Helper functions</a></li>
      <li><a href="#user-management">User management</a></li>
      <li><a href="#custom-variables">Custom variables</a></li>
      <li><a href="#adwords">AdWords</a></li>
      <li><a href="#custom-data-sources">Custom Data Sources</a></li>
      <li><a href="#experiments">Experiments</a></li>
      <li><a href="#view-filters">View Filters</a></li>
      <li><a href="#goals">Goals</a></li>
      <li><a href="#remarketing-segments">Remarketing segments</a></li>
      <li><a href="#unsampled-reports">Unsampled reports</a></li>
      <li><a href="#users">Users</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mark Edmondson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
